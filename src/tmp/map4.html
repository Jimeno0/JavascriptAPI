<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
	<link rel="stylesheet" href="http://js.arcgis.com/3.8/js/esri/css/esri.css">
	<link rel="stylesheet" href="http://js.arcgis.com/3.8/js/dojo/dijit/themes/claro/claro.css ">
	<style type="text/css">
		#info{
			position: fixed;
			bottom: 0;
			background-color: rgba(255, 255, 255, 0.5);
			padding: 1em;
		}
		#legendDiv{
			background-color: #fff;
			position: absolute !important;
			z-index: 99;
			top:10px;
			right:20px;
		}
		
	</style>
	
	<script src="http://js.arcgis.com/3.8/"></script>
	<script>
		var map;
		require([
			"esri/map", 
			"esri/arcgis/utils",
			"esri/dijit/Legend",
			"dojo/domReady!"
			], function(Map, arcgisUtils, Legend) { 
				
				arcgisUtils.createMap("2dd29a6fe7d14822a91ea4567939e052", "mapDiv").then(function (response) {
					map = response.map;   

					var legend = new Legend({
						map: map,
						layerInfos:(arcgisUtils.getLegendLayers(response))
					}, "legendDiv");
					
					legend.startup();
				});

			});
	</script>
	<style>
		html, body, #mapDiv {
			padding: 0;
			margin: 0;
			height: 100%;
		}
	</style>
	<title></title>
</head>
<body class="tundra">
	<div id="mapDiv"></div>
	<div id="info"></div>
	<div id="legendDiv"></div>
</body>
</html>